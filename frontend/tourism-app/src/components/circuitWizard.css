/* Ensure parent containers don't collapse */
.max-w-7xl {
    min-height: 100vh; /* Ensure the parent has enough height */
  }
  
  /* Ensure the flex container allows children to take full height */
  .flex {
    min-height: 0; /* Prevent flex shrinking issues */
  }
  
  /* Ensure the map container takes up the full specified height and width */
  .circuit-wizard-map-container {
    height: 600px !important; /* Hardcode height for debugging */
    width: 100% !important;
    position: relative !important;
    overflow: visible !important;
    background-color: #f0f0f0; /* Fallback background to debug visibility */
  }
  
  /* Ensure the map itself takes up the full container size */
  .circuit-wizard-map {
    height: 100% !important;
    width: 100% !important;
    z-index: 1 !important;
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
  }
  
  /* Ensure Leaflet's internal container is correctly sized and visible */
  .leaflet-container {
    height: 100% !important;
    width: 100% !important;
    z-index: 1 !important;
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
  }
  
  /* Ensure all Leaflet panes are visible */
  .leaflet-pane {
    position: absolute !important;
    z-index: inherit !important;
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
  }
  
  /* Layer ordering for map elements */
  .leaflet-overlay-pane {
    z-index: 400 !important; /* Route lines above tiles */
  }
  
  .leaflet-tile-pane {
    z-index: 200 !important; /* Tiles below route lines */
  }
  
  .leaflet-marker-pane {
    z-index: 600 !important; /* Markers above route lines */
  }
  
  /* Ensure tiles have correct dimensions and are visible */
  .leaflet-tile {
    width: 256px !important;
    height: 256px !important;
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
  }
  
  /* Ensure tile container is visible */
  .leaflet-tile-container {
    position: absolute !important;
    z-index: 200 !important;
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
  }
  
  /* Popup styling */
  .leaflet-popup-content-wrapper {
    border-radius: 8px;
    padding: 8px;
  }
  
  .leaflet-popup-content {
    margin: 0;
  }
  
  .leaflet-popup-tip {
    background: white;
    border: none;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
  }
  
  /* Debugging: Add a border to see the map container */
  .circuit-wizard-map-container {
    border: 2px solid red !important; /* Temporary border to debug visibility */
  }